class Editor {
    -Document document
    -UserInterface ui
    -DocumentStorage storage
    -DocumentSerializer serializer
    +Editor()
    +run()
    -processCommand(): boolean
}

class Document {
    -String[] lines
    -int activeLine
    +Document()
    +getLine(int): String
    +setLine(int, String)
    +getActiveLine(): int
    +setActiveLine(int)
    +print(UserInterface)
}

class UserInterface {
    -Scanner scanner
    +UserInterface()
    +showLines(Document)
    +getCommand(): Command
    +readInt(): int
    +readString(): String
    +clearScreen()
}

interface Command {
    +execute(Document): boolean
}

class EditCommand {
    +execute(Document): boolean
}

class ExchangeCommand {
    +execute(Document): boolean
}

class DeleteCommand {
    +execute(Document): boolean
}

class SetActiveLineCommand {
    +execute(Document): boolean
}

class ExitCommand {
    +execute(Document): boolean
}

class SaveCommand {
    +execute(Document): boolean
}

class LoadCommand {
    +execute(Document): boolean
}

interface DocumentStorage {
    +save(String): boolean
    +load(): String
}

interface DocumentSerializer {
    +serialize(Document): String
    +deserialize(String): Document
}

class FileManagerAdapter {
    -FileManager fileManager
    +save(String): boolean
    +load(): String
}

class SimpleSerializer {
    +serialize(Document): String
    +deserialize(String): Document
}

Editor --> Document
Editor --> UserInterface
Editor --> Command
Command <|.. EditCommand
Command <|.. ExchangeCommand
Command <|.. DeleteCommand
Command <|.. SetActiveLineCommand
Command <|.. ExitCommand

Editor --> DocumentStorage
Editor --> DocumentSerializer
Command <|.. SaveCommand
Command <|.. LoadCommand
DocumentStorage <|.. FileManagerAdapter
DocumentSerializer <|.. SimpleSerializer
FileManagerAdapter --> FileManager